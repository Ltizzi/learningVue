{"ast":null,"code":"import \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nexport default {\n  namespaced: true,\n  state: function state() {\n    return {\n      items: [],\n      total: 0,\n      qty: 0\n    };\n  },\n  mutations: {\n    addProductToCart: function addProductToCart(state, payload) {\n      var productData = payload.product;\n      var productInCartIndex = state.items.findIndex(function (ci) {\n        return ci.productId === productData.id;\n      });\n\n      if (productInCartIndex >= 0) {\n        state.items[productInCartIndex].qty++;\n      } else {\n        var newItem = {\n          productId: productData.id,\n          title: productData.title,\n          image: productData.image,\n          price: productData.price,\n          qty: 1\n        };\n        state.items.push(newItem);\n      }\n\n      state.qty++;\n      state.total += productData.price;\n    },\n    removeProductFromCart: function removeProductFromCart(state, payload) {\n      var prodId = payload.productId;\n      var productInCartIndex = state.items.findIndex(function (cartItem) {\n        return cartItem.productId === prodId;\n      });\n      var prodData = state.items[productInCartIndex];\n      state.items.splice(productInCartIndex, 1);\n      state.qty -= prodData.qty;\n      state.total -= prodData.price * prodData.qty;\n    }\n  },\n  actions: {\n    addToCart: function addToCart(context, payload) {\n      context.commit(\"addProductToCart\", payload);\n    },\n    removeFromCart: function removeFromCart(context, payload) {\n      context.commit(\"removeProductFromCart\", payload);\n    }\n  },\n  getters: {\n    items: function items(state) {\n      return state.items;\n    },\n    totalSum: function totalSum(state) {\n      return state.total;\n    },\n    quantity: function quantity(state) {\n      return state.qty;\n    }\n  }\n};","map":{"version":3,"names":["namespaced","state","items","total","qty","mutations","addProductToCart","payload","productData","product","productInCartIndex","findIndex","ci","productId","id","newItem","title","image","price","push","removeProductFromCart","prodId","cartItem","prodData","splice","actions","addToCart","context","commit","removeFromCart","getters","totalSum","quantity"],"sources":["/home/ltizzi/Documentos/l2code/vue/14 - vuex/vuex - challenge/src/store/modules/cart.js"],"sourcesContent":["export default {\n  namespaced: true,\n  state() {\n    return {\n      items: [],\n      total: 0,\n      qty: 0,\n    };\n  },\n  mutations: {\n    addProductToCart(state, payload) {\n      const productData = payload.product;\n      const productInCartIndex = state.items.findIndex(\n        (ci) => ci.productId === productData.id\n      );\n\n      if (productInCartIndex >= 0) {\n        state.items[productInCartIndex].qty++;\n      } else {\n        const newItem = {\n          productId: productData.id,\n          title: productData.title,\n          image: productData.image,\n          price: productData.price,\n          qty: 1,\n        };\n        state.items.push(newItem);\n      }\n      state.qty++;\n      state.total += productData.price;\n    },\n\n    removeProductFromCart(state, payload) {\n      const prodId = payload.productId;\n      const productInCartIndex = state.items.findIndex(\n        (cartItem) => cartItem.productId === prodId\n      );\n      const prodData = state.items[productInCartIndex];\n      state.items.splice(productInCartIndex, 1);\n      state.qty -= prodData.qty;\n      state.total -= prodData.price * prodData.qty;\n    },\n  },\n  actions: {\n    addToCart(context, payload) {\n      context.commit(\"addProductToCart\", payload);\n    },\n    removeFromCart(context, payload) {\n      context.commit(\"removeProductFromCart\", payload);\n    },\n  },\n  getters: {\n    items(state) {\n      return state.items;\n    },\n    totalSum(state) {\n      return state.total;\n    },\n    quantity(state) {\n      return state.qty;\n    },\n  },\n};\n"],"mappings":";;AAAA,eAAe;EACbA,UAAU,EAAE,IADC;EAEbC,KAFa,mBAEL;IACN,OAAO;MACLC,KAAK,EAAE,EADF;MAELC,KAAK,EAAE,CAFF;MAGLC,GAAG,EAAE;IAHA,CAAP;EAKD,CARY;EASbC,SAAS,EAAE;IACTC,gBADS,4BACQL,KADR,EACeM,OADf,EACwB;MAC/B,IAAMC,WAAW,GAAGD,OAAO,CAACE,OAA5B;MACA,IAAMC,kBAAkB,GAAGT,KAAK,CAACC,KAAN,CAAYS,SAAZ,CACzB,UAACC,EAAD;QAAA,OAAQA,EAAE,CAACC,SAAH,KAAiBL,WAAW,CAACM,EAArC;MAAA,CADyB,CAA3B;;MAIA,IAAIJ,kBAAkB,IAAI,CAA1B,EAA6B;QAC3BT,KAAK,CAACC,KAAN,CAAYQ,kBAAZ,EAAgCN,GAAhC;MACD,CAFD,MAEO;QACL,IAAMW,OAAO,GAAG;UACdF,SAAS,EAAEL,WAAW,CAACM,EADT;UAEdE,KAAK,EAAER,WAAW,CAACQ,KAFL;UAGdC,KAAK,EAAET,WAAW,CAACS,KAHL;UAIdC,KAAK,EAAEV,WAAW,CAACU,KAJL;UAKdd,GAAG,EAAE;QALS,CAAhB;QAOAH,KAAK,CAACC,KAAN,CAAYiB,IAAZ,CAAiBJ,OAAjB;MACD;;MACDd,KAAK,CAACG,GAAN;MACAH,KAAK,CAACE,KAAN,IAAeK,WAAW,CAACU,KAA3B;IACD,CArBQ;IAuBTE,qBAvBS,iCAuBanB,KAvBb,EAuBoBM,OAvBpB,EAuB6B;MACpC,IAAMc,MAAM,GAAGd,OAAO,CAACM,SAAvB;MACA,IAAMH,kBAAkB,GAAGT,KAAK,CAACC,KAAN,CAAYS,SAAZ,CACzB,UAACW,QAAD;QAAA,OAAcA,QAAQ,CAACT,SAAT,KAAuBQ,MAArC;MAAA,CADyB,CAA3B;MAGA,IAAME,QAAQ,GAAGtB,KAAK,CAACC,KAAN,CAAYQ,kBAAZ,CAAjB;MACAT,KAAK,CAACC,KAAN,CAAYsB,MAAZ,CAAmBd,kBAAnB,EAAuC,CAAvC;MACAT,KAAK,CAACG,GAAN,IAAamB,QAAQ,CAACnB,GAAtB;MACAH,KAAK,CAACE,KAAN,IAAeoB,QAAQ,CAACL,KAAT,GAAiBK,QAAQ,CAACnB,GAAzC;IACD;EAhCQ,CATE;EA2CbqB,OAAO,EAAE;IACPC,SADO,qBACGC,OADH,EACYpB,OADZ,EACqB;MAC1BoB,OAAO,CAACC,MAAR,CAAe,kBAAf,EAAmCrB,OAAnC;IACD,CAHM;IAIPsB,cAJO,0BAIQF,OAJR,EAIiBpB,OAJjB,EAI0B;MAC/BoB,OAAO,CAACC,MAAR,CAAe,uBAAf,EAAwCrB,OAAxC;IACD;EANM,CA3CI;EAmDbuB,OAAO,EAAE;IACP5B,KADO,iBACDD,KADC,EACM;MACX,OAAOA,KAAK,CAACC,KAAb;IACD,CAHM;IAIP6B,QAJO,oBAIE9B,KAJF,EAIS;MACd,OAAOA,KAAK,CAACE,KAAb;IACD,CANM;IAOP6B,QAPO,oBAOE/B,KAPF,EAOS;MACd,OAAOA,KAAK,CAACG,GAAb;IACD;EATM;AAnDI,CAAf"},"metadata":{},"sourceType":"module"}