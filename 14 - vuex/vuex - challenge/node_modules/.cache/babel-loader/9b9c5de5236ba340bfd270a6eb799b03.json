{"ast":null,"code":"import \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport TheHeader from \"./components/nav/TheHeader.vue\";\nexport default {\n  components: {\n    TheHeader: TheHeader\n  },\n  data: function data() {\n    return {\n      isLoggedIn: false,\n      cart: {\n        items: [],\n        total: 0,\n        qty: 0\n      }\n    };\n  },\n  provide: function provide() {\n    return {\n      isLoggedIn: this.isLoggedIn,\n      products: this.products,\n      cart: this.cart,\n      addProductToCart: this.addProductToCart,\n      removeProductFromCart: this.removeProductFromCart,\n      login: this.login,\n      logout: this.logout\n    };\n  },\n  methods: {\n    addProductToCart: function addProductToCart(productData) {\n      var productInCartIndex = this.cart.items.findIndex(function (ci) {\n        return ci.productId === productData.id;\n      });\n\n      if (productInCartIndex >= 0) {\n        this.cart.items[productInCartIndex].qty++;\n      } else {\n        var newItem = {\n          productId: productData.id,\n          title: productData.title,\n          image: productData.image,\n          price: productData.price,\n          qty: 1\n        };\n        this.cart.items.push(newItem);\n      }\n\n      this.cart.qty++;\n      this.cart.total += productData.price;\n    },\n    removeProductFromCart: function removeProductFromCart(prodId) {\n      var productInCartIndex = this.cart.items.findIndex(function (cartItem) {\n        return cartItem.productId === prodId;\n      });\n      var prodData = this.cart.items[productInCartIndex];\n      this.cart.items.splice(productInCartIndex, 1);\n      this.cart.qty -= prodData.qty;\n      this.cart.total -= prodData.price * prodData.qty;\n    },\n    login: function login() {\n      this.isLoggedIn = true;\n    },\n    logout: function logout() {\n      this.isLoggedIn = false;\n    }\n  }\n};","map":{"version":3,"mappings":";;AAME,OAAOA,SAAP,MAAsB,gCAAtB;AAEA,eAAe;EACbC,UAAU,EAAE;IACVD,SAAS,EAATA;EADU,CADC;EAIbE,IAJa,kBAIN;IACL,OAAO;MACLC,UAAU,EAAE,KADP;MAELC,IAAI,EAAE;QAAEC,KAAK,EAAE,EAAT;QAAaC,KAAK,EAAE,CAApB;QAAuBC,GAAG,EAAE;MAA5B;IAFD,CAAP;EAID,CATY;EAUbC,OAVa,qBAUH;IACR,OAAO;MACLL,UAAU,EAAE,KAAKA,UADZ;MAELM,QAAQ,EAAE,KAAKA,QAFV;MAGLL,IAAI,EAAE,KAAKA,IAHN;MAILM,gBAAgB,EAAE,KAAKA,gBAJlB;MAKLC,qBAAqB,EAAE,KAAKA,qBALvB;MAMLC,KAAK,EAAE,KAAKA,KANP;MAOLC,MAAM,EAAE,KAAKA;IAPR,CAAP;EASD,CApBY;EAqBbC,OAAO,EAAE;IACPJ,gBADO,4BACUK,WADV,EACuB;MAC5B,IAAMC,kBAAiB,GAAI,KAAKZ,IAAL,CAAUC,KAAV,CAAgBY,SAAhB,CACzB,UAACC,EAAD;QAAA,OAAQA,EAAE,CAACC,SAAH,KAAiBJ,WAAW,CAACK,EAArC;MAAA,CADyB,CAA3B;;MAIA,IAAIJ,kBAAiB,IAAK,CAA1B,EAA6B;QAC3B,KAAKZ,IAAL,CAAUC,KAAV,CAAgBW,kBAAhB,EAAoCT,GAApC;MACF,CAFA,MAEO;QACL,IAAMc,OAAM,GAAI;UACdF,SAAS,EAAEJ,WAAW,CAACK,EADT;UAEdE,KAAK,EAAEP,WAAW,CAACO,KAFL;UAGdC,KAAK,EAAER,WAAW,CAACQ,KAHL;UAIdC,KAAK,EAAET,WAAW,CAACS,KAJL;UAKdjB,GAAG,EAAE;QALS,CAAhB;QAOA,KAAKH,IAAL,CAAUC,KAAV,CAAgBoB,IAAhB,CAAqBJ,OAArB;MACF;;MACA,KAAKjB,IAAL,CAAUG,GAAV;MACA,KAAKH,IAAL,CAAUE,KAAV,IAAmBS,WAAW,CAACS,KAA/B;IACD,CApBM;IAsBPb,qBAtBO,iCAsBee,MAtBf,EAsBuB;MAC5B,IAAMV,kBAAiB,GAAI,KAAKZ,IAAL,CAAUC,KAAV,CAAgBY,SAAhB,CACzB,UAACU,QAAD;QAAA,OAAcA,QAAQ,CAACR,SAAT,KAAuBO,MAArC;MAAA,CADyB,CAA3B;MAGA,IAAME,QAAO,GAAI,KAAKxB,IAAL,CAAUC,KAAV,CAAgBW,kBAAhB,CAAjB;MACA,KAAKZ,IAAL,CAAUC,KAAV,CAAgBwB,MAAhB,CAAuBb,kBAAvB,EAA2C,CAA3C;MACA,KAAKZ,IAAL,CAAUG,GAAV,IAAiBqB,QAAQ,CAACrB,GAA1B;MACA,KAAKH,IAAL,CAAUE,KAAV,IAAmBsB,QAAQ,CAACJ,KAAT,GAAiBI,QAAQ,CAACrB,GAA7C;IACD,CA9BM;IA+BPK,KA/BO,mBA+BC;MACN,KAAKT,UAAL,GAAkB,IAAlB;IACD,CAjCM;IAkCPU,MAlCO,oBAkCE;MACP,KAAKV,UAAL,GAAkB,KAAlB;IACD;EApCM;AArBI,CAAf","names":["TheHeader","components","data","isLoggedIn","cart","items","total","qty","provide","products","addProductToCart","removeProductFromCart","login","logout","methods","productData","productInCartIndex","findIndex","ci","productId","id","newItem","title","image","price","push","prodId","cartItem","prodData","splice"],"sourceRoot":"","sources":["/home/ltizzi/Documentos/l2code/vue/14 - vuex/vuex - challenge/src/App.vue"],"sourcesContent":["<template>\n  <the-header></the-header>\n  <router-view></router-view>\n</template>\n\n<script>\n  import TheHeader from \"./components/nav/TheHeader.vue\";\n\n  export default {\n    components: {\n      TheHeader,\n    },\n    data() {\n      return {\n        isLoggedIn: false,\n        cart: { items: [], total: 0, qty: 0 },\n      };\n    },\n    provide() {\n      return {\n        isLoggedIn: this.isLoggedIn,\n        products: this.products,\n        cart: this.cart,\n        addProductToCart: this.addProductToCart,\n        removeProductFromCart: this.removeProductFromCart,\n        login: this.login,\n        logout: this.logout,\n      };\n    },\n    methods: {\n      addProductToCart(productData) {\n        const productInCartIndex = this.cart.items.findIndex(\n          (ci) => ci.productId === productData.id\n        );\n\n        if (productInCartIndex >= 0) {\n          this.cart.items[productInCartIndex].qty++;\n        } else {\n          const newItem = {\n            productId: productData.id,\n            title: productData.title,\n            image: productData.image,\n            price: productData.price,\n            qty: 1,\n          };\n          this.cart.items.push(newItem);\n        }\n        this.cart.qty++;\n        this.cart.total += productData.price;\n      },\n\n      removeProductFromCart(prodId) {\n        const productInCartIndex = this.cart.items.findIndex(\n          (cartItem) => cartItem.productId === prodId\n        );\n        const prodData = this.cart.items[productInCartIndex];\n        this.cart.items.splice(productInCartIndex, 1);\n        this.cart.qty -= prodData.qty;\n        this.cart.total -= prodData.price * prodData.qty;\n      },\n      login() {\n        this.isLoggedIn = true;\n      },\n      logout() {\n        this.isLoggedIn = false;\n      },\n    },\n  };\n</script>\n\n<style>\n  * {\n    box-sizing: border-box;\n  }\n\n  html {\n    font-family: sans-serif;\n  }\n\n  body {\n    margin: 0;\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}