{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_the_header = _resolveComponent(\"the-header\");\n\n  var _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_the_header), _createVNode(_component_router_view)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;;6DACEA,aAAyBC,qBAAzB,GACAD,aAA2BE,sBAA3B","names":["_createVNode","_component_the_header","_component_router_view"],"sourceRoot":"","sources":["/home/ltizzi/Documentos/l2code/vue/14 - vuex/vuex - challenge/src/App.vue"],"sourcesContent":["<template>\n  <the-header></the-header>\n  <router-view></router-view>\n</template>\n\n<script>\n  import TheHeader from \"./components/nav/TheHeader.vue\";\n\n  export default {\n    components: {\n      TheHeader,\n    },\n    data() {\n      return {\n        isLoggedIn: false,\n        cart: { items: [], total: 0, qty: 0 },\n      };\n    },\n    provide() {\n      return {\n        isLoggedIn: this.isLoggedIn,\n        cart: this.cart,\n        addProductToCart: this.addProductToCart,\n        removeProductFromCart: this.removeProductFromCart,\n        login: this.login,\n        logout: this.logout,\n      };\n    },\n    methods: {\n      addProductToCart(productData) {\n        const productInCartIndex = this.cart.items.findIndex(\n          (ci) => ci.productId === productData.id\n        );\n\n        if (productInCartIndex >= 0) {\n          this.cart.items[productInCartIndex].qty++;\n        } else {\n          const newItem = {\n            productId: productData.id,\n            title: productData.title,\n            image: productData.image,\n            price: productData.price,\n            qty: 1,\n          };\n          this.cart.items.push(newItem);\n        }\n        this.cart.qty++;\n        this.cart.total += productData.price;\n      },\n\n      removeProductFromCart(prodId) {\n        const productInCartIndex = this.cart.items.findIndex(\n          (cartItem) => cartItem.productId === prodId\n        );\n        const prodData = this.cart.items[productInCartIndex];\n        this.cart.items.splice(productInCartIndex, 1);\n        this.cart.qty -= prodData.qty;\n        this.cart.total -= prodData.price * prodData.qty;\n      },\n      login() {\n        this.isLoggedIn = true;\n      },\n      logout() {\n        this.isLoggedIn = false;\n      },\n    },\n  };\n</script>\n\n<style>\n  * {\n    box-sizing: border-box;\n  }\n\n  html {\n    font-family: sans-serif;\n  }\n\n  body {\n    margin: 0;\n  }\n</style>\n"]},"metadata":{},"sourceType":"module"}