{"ast":null,"code":"import \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nexport default {\n  namespaced: true,\n  state: function state() {\n    return {\n      items: [],\n      total: 0,\n      qty: 0\n    };\n  },\n  mutations: {\n    addProductToCart: function addProductToCart(state, payload) {\n      var productInCartIndex = state.items.findIndex(function (ci) {\n        return ci.productId === productData.id;\n      });\n\n      if (productInCartIndex >= 0) {\n        state.items[productInCartIndex].qty++;\n      } else {\n        var newItem = {\n          productId: productData.id,\n          title: productData.title,\n          image: productData.image,\n          price: productData.price,\n          qty: 1\n        };\n        state.items.push(newItem);\n      }\n\n      state.qty++;\n      state.total += productData.price;\n    },\n    removeProductFromCart: function removeProductFromCart(state, payload) {\n      var prodId = payload.productId;\n      var productInCartIndex = state.items.findIndex(function (cartItem) {\n        return cartItem.productId === prodId;\n      });\n      var prodData = state.items[productInCartIndex];\n      state.items.splice(productInCartIndex, 1);\n      state.qty -= prodData.qty;\n      state.total -= prodData.price * prodData.qty;\n    }\n  },\n  actions: {\n    addToCart: function addToCart(context, payload) {\n      var prodId = payload.id;\n      context.commit(\"addProductToCart\", payload);\n    },\n    removeFromCart: function removeFromCart(context, payload) {\n      context.commit(\"removeProductFromCart\", payload);\n    }\n  },\n  getters: {\n    items: function items(state) {\n      return state.items;\n    },\n    totalSum: function totalSum(state) {\n      return state.total.toFixed(2);\n    },\n    quantity: function quantity(state) {\n      return state.qty;\n    }\n  }\n};","map":{"version":3,"names":["namespaced","state","items","total","qty","mutations","addProductToCart","payload","productInCartIndex","findIndex","ci","productId","productData","id","newItem","title","image","price","push","removeProductFromCart","prodId","cartItem","prodData","splice","actions","addToCart","context","commit","removeFromCart","getters","totalSum","toFixed","quantity"],"sources":["/home/ltizzi/Documentos/l2code/vue/14 - vuex/vuex - challenge/src/store/modules/cart.js"],"sourcesContent":["export default {\n  namespaced: true,\n  state() {\n    return {\n      items: [],\n      total: 0,\n      qty: 0,\n    };\n  },\n  mutations: {\n    addProductToCart(state, payload) {\n      const productInCartIndex = state.items.findIndex(\n        (ci) => ci.productId === productData.id\n      );\n\n      if (productInCartIndex >= 0) {\n        state.items[productInCartIndex].qty++;\n      } else {\n        const newItem = {\n          productId: productData.id,\n          title: productData.title,\n          image: productData.image,\n          price: productData.price,\n          qty: 1,\n        };\n        state.items.push(newItem);\n      }\n      state.qty++;\n      state.total += productData.price;\n    },\n\n    removeProductFromCart(state, payload) {\n      const prodId = payload.productId;\n      const productInCartIndex = state.items.findIndex(\n        (cartItem) => cartItem.productId === prodId\n      );\n      const prodData = state.items[productInCartIndex];\n      state.items.splice(productInCartIndex, 1);\n      state.qty -= prodData.qty;\n      state.total -= prodData.price * prodData.qty;\n    },\n  },\n  actions: {\n    addToCart(context, payload) {\n      const prodId = payload.id;\n      context.commit(\"addProductToCart\", payload);\n    },\n    removeFromCart(context, payload) {\n      context.commit(\"removeProductFromCart\", payload);\n    },\n  },\n  getters: {\n    items(state) {\n      return state.items;\n    },\n    totalSum(state) {\n      return state.total.toFixed(2);\n    },\n    quantity(state) {\n      return state.qty;\n    },\n  },\n};\n"],"mappings":";;;AAAA,eAAe;EACbA,UAAU,EAAE,IADC;EAEbC,KAFa,mBAEL;IACN,OAAO;MACLC,KAAK,EAAE,EADF;MAELC,KAAK,EAAE,CAFF;MAGLC,GAAG,EAAE;IAHA,CAAP;EAKD,CARY;EASbC,SAAS,EAAE;IACTC,gBADS,4BACQL,KADR,EACeM,OADf,EACwB;MAC/B,IAAMC,kBAAkB,GAAGP,KAAK,CAACC,KAAN,CAAYO,SAAZ,CACzB,UAACC,EAAD;QAAA,OAAQA,EAAE,CAACC,SAAH,KAAiBC,WAAW,CAACC,EAArC;MAAA,CADyB,CAA3B;;MAIA,IAAIL,kBAAkB,IAAI,CAA1B,EAA6B;QAC3BP,KAAK,CAACC,KAAN,CAAYM,kBAAZ,EAAgCJ,GAAhC;MACD,CAFD,MAEO;QACL,IAAMU,OAAO,GAAG;UACdH,SAAS,EAAEC,WAAW,CAACC,EADT;UAEdE,KAAK,EAAEH,WAAW,CAACG,KAFL;UAGdC,KAAK,EAAEJ,WAAW,CAACI,KAHL;UAIdC,KAAK,EAAEL,WAAW,CAACK,KAJL;UAKdb,GAAG,EAAE;QALS,CAAhB;QAOAH,KAAK,CAACC,KAAN,CAAYgB,IAAZ,CAAiBJ,OAAjB;MACD;;MACDb,KAAK,CAACG,GAAN;MACAH,KAAK,CAACE,KAAN,IAAeS,WAAW,CAACK,KAA3B;IACD,CApBQ;IAsBTE,qBAtBS,iCAsBalB,KAtBb,EAsBoBM,OAtBpB,EAsB6B;MACpC,IAAMa,MAAM,GAAGb,OAAO,CAACI,SAAvB;MACA,IAAMH,kBAAkB,GAAGP,KAAK,CAACC,KAAN,CAAYO,SAAZ,CACzB,UAACY,QAAD;QAAA,OAAcA,QAAQ,CAACV,SAAT,KAAuBS,MAArC;MAAA,CADyB,CAA3B;MAGA,IAAME,QAAQ,GAAGrB,KAAK,CAACC,KAAN,CAAYM,kBAAZ,CAAjB;MACAP,KAAK,CAACC,KAAN,CAAYqB,MAAZ,CAAmBf,kBAAnB,EAAuC,CAAvC;MACAP,KAAK,CAACG,GAAN,IAAakB,QAAQ,CAAClB,GAAtB;MACAH,KAAK,CAACE,KAAN,IAAemB,QAAQ,CAACL,KAAT,GAAiBK,QAAQ,CAAClB,GAAzC;IACD;EA/BQ,CATE;EA0CboB,OAAO,EAAE;IACPC,SADO,qBACGC,OADH,EACYnB,OADZ,EACqB;MAC1B,IAAMa,MAAM,GAAGb,OAAO,CAACM,EAAvB;MACAa,OAAO,CAACC,MAAR,CAAe,kBAAf,EAAmCpB,OAAnC;IACD,CAJM;IAKPqB,cALO,0BAKQF,OALR,EAKiBnB,OALjB,EAK0B;MAC/BmB,OAAO,CAACC,MAAR,CAAe,uBAAf,EAAwCpB,OAAxC;IACD;EAPM,CA1CI;EAmDbsB,OAAO,EAAE;IACP3B,KADO,iBACDD,KADC,EACM;MACX,OAAOA,KAAK,CAACC,KAAb;IACD,CAHM;IAIP4B,QAJO,oBAIE7B,KAJF,EAIS;MACd,OAAOA,KAAK,CAACE,KAAN,CAAY4B,OAAZ,CAAoB,CAApB,CAAP;IACD,CANM;IAOPC,QAPO,oBAOE/B,KAPF,EAOS;MACd,OAAOA,KAAK,CAACG,GAAb;IACD;EATM;AAnDI,CAAf"},"metadata":{},"sourceType":"module"}